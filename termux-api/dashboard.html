<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indrasevendev | Base Monitor</title>
    <style>
        :root {
            --base-blue: #0052ff; /* Warna khas Base */
            --bg-dark: #0a0a0a;
            --text-main: #ffffff;
            --text-dim: #888;
        }

        body { 
            background: var(--bg-dark); 
            color: var(--text-main); 
            font-family: 'Inter', -apple-system, sans-serif; 
            padding: 20px;
            margin: 0;
        }

        h1 { 
            color: var(--base-blue);
            font-size: 1.5rem;
            letter-spacing: -1px;
            border-left: 4px solid var(--base-blue);
            padding-left: 15px;
            margin-bottom: 30px;
        }

        .card { 
            background: #111;
            border: 1px solid #222;
            padding: 20px; 
            margin-bottom: 15px; 
            border-radius: 12px;
            transition: 0.3s;
        }

        .card:hover {
            border-color: var(--base-blue);
            box-shadow: 0 0 15px rgba(0, 82, 255, 0.2);
        }

        h3 { color: var(--text-dim); font-size: 0.8rem; text-transform: uppercase; margin-top: 0; }
        
        .value { 
            font-size: 1.2rem; 
            font-weight: bold; 
            color: var(--text-main);
            display: block;
            margin-top: 5px;
        }

        .status-dot {
            height: 10px; width: 10px;
            background-color: #00ff00;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            box-shadow: 0 0 8px #00ff00;
        }

        .base-logo { color: var(--base-blue); font-weight: 800; }
    </style>
</head>
<body>
    <h1><span class="base-logo">BASE</span> MONITOR</h1>
    
    <div class="card">
        <h3>ðŸ“± Device Status</h3>
        <span class="value" id="device">Syncing...</span>
        <small style="color: var(--text-dim)"><span class="status-dot"></span> System Live</small>
    </div>

    <div class="card">
        <h3>ðŸ”— Network: Base Sepolia</h3>
        <span class="value" id="balance">0.0000 ETH</span>
        <small id="wallet" style="color: var(--base-blue)">indraseven.eth</small>
    </div>

    <div class="card">
        <h3>ðŸ“¦ Latest Block</h3>
        <span class="value" id="block">#000000</span>
    </div>

    <script>
    async function updateStats() {
        try {
            const res = await fetch('/api/status');
            const data = await res.json();
            
            // Update Baterai & Nama Device
            document.getElementById('device').innerText = `Battery: ${data.device.battery}`;
            
            if (data.blockchain && data.blockchain.success) {
                // Tampilkan saldo & block asli
                document.getElementById('balance').innerText = data.blockchain.balance + " ETH";
                document.getElementById('block').innerText = "#" + data.blockchain.block;
                
                // PENTING: Menampilkan Basename Anda dari Persona
                // Pastikan Anda punya elemen dengan id="wallet-name" di HTML atas
                const walletEl = document.getElementById('wallet-name');
                if (walletEl) walletEl.innerText = "indracryptoid.base.eth";
            }
        } catch (e) {
            console.error("Gagal sinkronisasi data:", e);
        }
    }

    // Refresh otomatis setiap 5 detik
    setInterval(updateStats, 5000);
    // Jalankan sekali saat pertama kali buka
    updateStats();
</script>

</body>
</html>

